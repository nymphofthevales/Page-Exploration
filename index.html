<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Story Editor</title>
    <script src="./application.js" type="module" defer></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="application">
        <div id="labels">
            <div id="ancestors-label">
                <h2>Ancestor Nodes</h2>
                <p>Nodes which have options leading to the current story node.</p>
            </div>
            <div id="current-label">
                <h2>Current Story Node</h2>
                <form action="javascript:void(0);" id="current-select-form">
                    <label for="current-node-select">Change current node:</label>
                    <input name="current-node-select" id="current-node-select" list="current-node-datalist">
                        <datalist id="current-node-datalist" class="story-node-selector">
                            <option value="title">title: content preview like...</option>
                        </datalist>
                    </input>
                </form>
                <button id="remove-current" class="uibutton">Remove Current Node</button>
                <button id="save" class="uibutton">Save All Changes</button>
                <form action="javascript:void(0);" id="remove-current-form" class="hidden">
                    <h2>Remove Current Node</h2>
                    <p>Note: Removing the current node will remove all options leading to and from it.</p>
                    <p>This action cannot be undone.</p>
                    <button id="remove-current-confirm" class="uibutton">Remove</button>
                    <button id="remove-current-cancel" class="uibutton">Cancel</button>
                </form>
            </div>
            <div id="child-label">
                <h2>Child Nodes</h2>
                <p>Choices the player can make from the current node, and the nodes they lead to.</p>
            </div>
        </div>
        <div id="actionable-content">
            <div id="ancestors" class="node-viewer">
            </div>
    
            <div id="current" class="node-viewer">
                <form action="javascript:void(0);" id="current-editor-form">
                    <div id="current-header">
                        <h2 id="current-title"></h2>
                        <label for="current-content">
                            <p>Enter plaintext or valid HTML.</p>
                            <h4>Content:</h4>
                        </label>
                    </div>
                    <fieldset id="current-content">
                        <textarea id="current-content-editor"></textarea>
                    </fieldset>
                </form>
                <div id="current-node-content-preview">
                    <iframe frameborder="0" id="preview-frame"></iframe>
                </div>
            </div>
    
            <div id="children" class="node-viewer">
                <button id="add-child">+</button>
                <div id="add-child-menu" class="hidden">
                    <form action="javascript:void(0);" id="add-child-form">
                        <h3>Link new child</h3>
                        <fieldset>
                            <label for="add-child-option-text">Story option:</label>
                            <input type="text" id="add-child-option-text" value="">
                        </fieldset>
                        <fieldset>
                            <label for="add-child-node-select">Destination node:</label>
                            <input name="add-child-node-select" id="add-child-node-select" list="add-child-node-datalist">
                                <datalist id="add-child-node-datalist" class="story-node-selector">
                                    <option value="title">title: content preview like...</option>
                                </datalist>
                            </input>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="popup-overlay" class="hidden"></div>
    <div id="save-popup" class="hidden">
        <p>Saving . . .</p>
    </div>
</body>
</html>